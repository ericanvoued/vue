<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>promiss</title>
</head>
<body>
<script>
  let checkLogin = function () {
    return new Promise((resolve,reject)=>{
        let flag = document.cookie.indexOf("userId")>-1?true:false;
        if(flag){
            resolve({
              status:0,
              result:true
            })
        }else {
            reject('error')
        }
    })
  }

  checkLogin().then(res=>{
      if(res.status==0){
          console.log('succeed')
      }
  }).catch(error=>{
      console.log(error)
  })

  let checkLogin2 = function () {
    return new Promise((resolve,reject)=>{
      let flag = document.cookie.indexOf("userId")>-1?true:false;
      if(flag){
        resolve({
          status:0,
          result:true
        })
      }else {
        reject('error2')
      }
    })
  }

  checkLogin2().then(res=>{
    if(res.status==0){
      console.log('succeed2')
    }
  }).catch(error=>{
    console.log(error)
  })

  Promise.all([checkLogin(),checkLogin2()]).then(([res1,res2])=>{
      console.log(res1,res2)
  })
</script>
</body>
</html>
